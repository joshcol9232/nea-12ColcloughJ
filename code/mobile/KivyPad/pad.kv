# File name: kiv.py
#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import Window kivy.core.window.Window
#: import Clock kivy.clock.Clock

ScreenManagement:
    id: screenmanager
    transition: FadeTransition()
    PadScreen:
        name: "Pad"
        id: Pad
        manager: screenmanager
    MainScreen:
        name: "Main"
        id: Main
        manager: screenmanager

<recievePopup@Popup>:
    title: "Ready to recieve."

<PadNum@Button>:
    font_size: 30
    on_release: root.root.addNum(self.text)

<DeviceButton@Button>:
    font_size: 80
    on_release: self.devicePop.setupBT(self.text)

<PadScreen>:
    display: display
    FloatLayout:
        GridLayout:
            size_hint_y: .7
            cols: 3
            Button:
                text: "7"
                on_release: root.addNum(self.text)
            Button:
                text: "8"
                on_release: root.addNum(self.text)
            Button:
                text: "9"
                on_release: root.addNum(self.text)

            Button:
                text: "4"
                on_release: root.addNum(self.text)
            Button:
                text: "5"
                on_release: root.addNum(self.text)
            Button:
                text: "6"
                on_release: root.addNum(self.text)

            Button:
                text: "1"
                on_release: root.addNum(self.text)
            Button:
                text: "2"
                on_release: root.addNum(self.text)
            Button:
                text: "3"
                on_release: root.addNum(self.text)


            Button:
                text: "DEL"
                on_release: root.backSpace()
            Button:
                text: "0"
                on_release: root.addNum(self.text)
            Button:
                text: "Submit"
                on_release: root.confirm()

        Label:
            id: display
            text: root.numsString
            pos_hint: {"center_x": .5, "y": .35}

<MainScreen>:
    FloatLayout:
        Label:
            text: "To lock the Vault, close the program."

        Button:
            pos_hint: {"x": .25, "y": .2}
            size_hint: 0.5, 0.2
            text: "Recieve files from PC"
            on_release: Clock.schedule_once(root.recvPop.open, -1)