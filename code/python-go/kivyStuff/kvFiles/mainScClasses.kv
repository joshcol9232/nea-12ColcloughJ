#: import Clock kivy.clock.Clock
#: import Window kivy.core.window.Window

<listButton@Button>:
    font_size: 14
    halign: "left"
    valign: "middle"
    height: 30
    size_hint: 1, None
    #drag_rectangle: self.x, self.y, self.width, self.height
    #drag_timeout: 10000000
    #drag_distance: 0

<listButtonBubble@Bubble>:
    size_hint: .1, .1
    pos_hint: {"x_center": self.touch.opos[0]/Window.width, "y_center": self.touch.opos[1]/Window.height}
    BubbleButton:
        text: "Scoop"


<nameSortButton@Button>:
    font_size: 14
    on_release: root.changeSortOrder()

<sizeSortButton@Button>:
    font_size: 14
    on_release: root.changeSizeOrder()

<infoButton@Button>:
    font_size: 14
    size_hint: .05, 1
    halign: "left"
    valign: "middle"
    text: " INFO"
    on_release: root.outerScreen.getFileInfo(self.fileObj)

<infoLabel@Label>:
    text_size: self.width, None
    height: self.texture_size[1]

<deleteButton@Button>:
    on_release: root.outerScreen.deleteFile(self.fileObj)

<ConfirmationPopup@Popup>:
    title: "Confirmation"
    size_hint: .4, .4
    pos_hint: {"center_x": .5, "center_y": .5}
    auto_dismiss: False
    FloatLayout:
        Label:
            text: "Are you sure?"
            pos_hint: {"center_x": .5, "center_y": .7}
        Button:
            text: "No!!!"
            pos_hint: {"center_x": .25, "center_y": .25}
            size_hint: .4, .3
            on_release: Clock.schedule_once(root.dismiss, -1)

        Button:
            text: "Yes"
            pos_hint: {"center_x": .75, "center_y": .25}
            size_hint: .4, .3
            on_release: Clock.schedule_once(root.dismiss, -1);root.fileScreen.outerScreen.checkCanEncrypt(root.inputText)

<addNewFolderPop@Popup>:
    title: "Add New Folder"
    size_hint: .7, .4
    pos_hint: {"center_x": .5, "center_y": .5}
    auto_dismiss: True
    GridLayout:
        cols: 1
        Label:
            text: "New Folder Name:"
        TextInput:
            id: folderNameInput
            size_hint: .7, .4
            multiline: False
            hint_text: "Name"
            on_text_validate: root.makeFolder(self.text)

<decryptDirPop@Popup>:
    title: "Decrypt Folder"
    size_hint: .7, .4
    pos_hint: {"center_x": .5, "center_y": .5}
    auto_dismiss: True
    GridLayout:
        cols: 1
        Label:
            text: "Input the destination directory."
        TextInput:
            id: decDirInput
            size_hint: .7, .4
            multiline: False
            hint_text: "Directory:"
            on_text_validate: root.checkCanDec(self.text)

<addFilePop@Popup>:
    name: "addFile"
    id: addFile
    submitDirs: submitDirs
    size_hint: .7, .7
    title: "Add File"
    FloatLayout:
        Label:
            size_hint: .46, .08
            font_size: 18
            text: "Enter the directories what files you would like to encrypt (can be a folder).\nYou can seperate each directory with '--' if you want to do multiple locations."
            pos_hint: {"center_x": 0.5, "y": 0.8}

        Button:
            id: submitDirs
            size_hint: .16, .16
            pos_hint: {"center_x": .5, "center_y": .4}
            text: "Submit"
            on_release: root.checkIfSure(Search.text)

        Button:
            size_hint: .16, .16
            pos_hint: {"center_x": .5, "center_y": .2}
            text: "Close"
            on_release: root.dismiss()

        TextInput:
            size_hint: .9, .12
            font_size: 22
            hint_text: "Directories"
            pos_hint: {"center_x": 0.5, "center_y": 0.7}
            multiline: False


