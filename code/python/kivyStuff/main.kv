# File name: kiv.py
#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import Window kivy.core.window.Window

ScreenManagement:
    transition: FadeTransition()
    MainScreen:
    LoginScreen:


<listButton@Button>:
    font_size: 14
    size_hint: 1, None
    text:
    on_release: root.outerScreen.traverseButton(self.text)

<MainScreen>:
    name: "main"
    id: main

    FloatLayout:
        id: MainLayout


        TextInput:
            id: Search
            size_hint: .46, .08
            font_size: 22
            hint_text: "Search"
            pos_hint: {"x": 0.16, "top": 1}
            multiline: False
            on_text_validate: root.searchForItem(root.quickSortAlph(root.List(root.currentDir)), self.text)


        # Button:
        #     id: SortByName
        #     font_size: 14
        #     size_hint: .7, .015
        #     pos_hint: {"x": .005, "y": .805}
        #     text: root.getSortOrder()
        #     on_release: root.changeSortOrder()

        Button:
            id: goBackArrow
            size_hint: .06, .08
            pos_hint: {"x": .62, "y": 0.84}
            on_release: root.resetButtons()
            Image:
                source: root.getPathForButton("backArrows.png")
                x: self.parent.x + 5
                y: self.parent.y
                size: 50, 50
                allow_stretch: True

        Button:
            id: goBackFolder
            size_hint: .06, .08
            pos_hint: {"x": 0.62, "top": 1}
            on_release: root.goBackFolder()
            Image:
                source: root.getPathForButton("backUpFolder.png")
                x: self.parent.x - 15
                y: self.parent.y - 37
                size: 100, 134
                allow_stretch: True

        Button:     #Padlock
            id: LogOut
            size_hint: .16, .16
            pos_hint: {"x": 0, "top": 1}
            on_release: app.root.current = "Login"
            Image:
                source: root.getPathForButton("padlock.png")
                x: self.parent.x - 20
                y: self.parent.y - 70
                size: 200, 267 #1 : 1.3353 ratio
                allow_stretch: True

        Button:
            id: addFile
            size_hint: .16, .16
            pos_hint: {"right": 1, "top": 1}
            Image:
                source: root.getPathForButton("addFile.png")
                x: self.parent.x - 33
                y: self.parent.y - 73
                size: 250, 267
                allow_stretch: True

        Button:
            id: removeFile
            size_hint: .16, .16
            pos_hint: {"x": 0.68, "top": 1}
            Image:
                source: root.getPathForButton("removeFile.png")
                x: self.parent.x - 33
                y: self.parent.y - 73
                size: 250, 267
                allow_stretch: True

        ProgressBar:
            id: pb1
            min: 0
            max: root.values(False)[0]
            value: root.values(False)[1]
            size_hint: .46, .08
            pos_hint: {"x": 0.16, "y": 0.84}

        Label:
            pos_hint: {"x": 0.4, "y": 0.82}
            size_hint: .16, .16
            text: root.values(True)

        # CheckBox:
        #     pos_hint: {"x": 0.95, "y": 0.5}
        #     size_hint: .05, .05


<LoginScreen>:
    name: "Login"
    id: login

    Label:
        id: labelLogin
        size_hint: .46, .08
        text: "Connect via bluetooth."
        font_size: 22
        pos_hint: {"center_x": 0.5, "y": 0.8}

    Button:
        id: loginButton
        size_hint: .16, .16
        pos_hint: {"center_x": .5, "center_y": .5}
        on_release: app.root.current = "main"
        text: "Login"
